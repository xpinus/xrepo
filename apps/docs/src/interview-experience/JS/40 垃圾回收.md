---
sort: 40
---

# JS的垃圾回收机制

https://juejin.cn/post/7038593947995734030

- 新生代内存回收

新加入的对象都会存放在使用区，当使用区快写满时就进行一次垃圾清理操作。
在开始进行垃圾回收时，新生代回收器会对使用区内的对象进行标记
标记完成后，需要对使用区内的活动对象拷贝到空闲区进行排序
而后进入垃圾清理阶段，将非活动对象占用的内存空间进行清理
最后对使用区和空闲区进行交换，使用区->空闲区，空闲区->使用区

- 老生代内存回收

使用Mark-Sweep（标记清除）和Mark-Compact（标记整理）的策略进行老生代内存中的垃圾回收。

首先是标记阶段，从一组根元素开始，递归遍历这组根元素，遍历过程中能到达的元素称为活动对象，没有到达的元素就可以判断为非活动对象。清除阶段老生代垃圾回收器会直接将非活动对象，也就是数据清理掉。