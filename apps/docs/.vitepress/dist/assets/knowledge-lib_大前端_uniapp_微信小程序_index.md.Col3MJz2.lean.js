import{a3 as s,t as a,ao as e,q as t}from"./chunks/framework.Dt9YBBJv.js";const c=JSON.parse('{"title":"微信小程序","description":"","frontmatter":{},"headers":[],"relativePath":"knowledge-lib/大前端/uniapp/微信小程序/index.md","filePath":"knowledge-lib/大前端/uniapp/微信小程序/index.md"}'),n={name:"knowledge-lib/大前端/uniapp/微信小程序/index.md"};function p(l,i,h,k,r,o){return t(),a("div",null,i[0]||(i[0]=[e(`<h1 id="微信小程序" tabindex="-1">微信小程序 <a class="header-anchor" href="#微信小程序" aria-label="Permalink to &quot;微信小程序&quot;">​</a></h1><h2 id="问题汇总" tabindex="-1">问题汇总 <a class="header-anchor" href="#问题汇总" aria-label="Permalink to &quot;问题汇总&quot;">​</a></h2><p><a href="https://developers.weixin.qq.com/community/develop/mixflow" target="_blank" rel="noreferrer">微信开放社区</a> 遇到问题可以下在这里搜索下</p><blockquote><p>判断H5是否在小程序环境</p></blockquote><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//3.通过判断navigator.userAgent中包含miniProgram字样</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userAgent </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> navigator.userAgent;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isMini </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">miniProgram</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userAgent);</span></span></code></pre></div><p>当结合 current-device.min.js 进行平台判断时</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">var</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> platform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /miniProgram/i.test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">navigator.userAgent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;mobile&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  device.type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><blockquote><p>webview中a标签点击不跳转</p></blockquote><p>在pc端和某些系统场景下，h5的a标签点击没有反应，需要改为<code>location.href</code></p><blockquote><p>web-view下 重定向的问题</p></blockquote><p><a href="https://developers.weixin.qq.com/community/develop/doc/00026426fe0e889cab480b3095b000?highLine=web-view%2520%25E9%2587%258D%25E5%25AE%259A%25E5%2590%2591" target="_blank" rel="noreferrer">参考</a></p><p>看重定向后的地址是否协议正确，会不会存在写死为http的情况</p><h2 id="面试题" tabindex="-1">面试题 <a class="header-anchor" href="#面试题" aria-label="Permalink to &quot;面试题&quot;">​</a></h2><blockquote><p>小程序如何显示用户头像与用户名</p></blockquote><p>传统接口 wx.getuserinfo 目前可以用，需要用户授权，使用时会有官方发提示，这个 方法需要升级</p><p>最新方法：open-data 标签，使用这个标签可以不用用户授权直接获取头像和用户名， 可以在 button 中将 opendata 作为属性写进去，写个点击事件就直接获取到了</p>`,16)]))}const g=s(n,[["render",p]]);export{c as __pageData,g as default};
