import{a2 as m,r as _,f as y,ab as c,q as p,t as f,y as o,K as s,I as u,a0 as d,F as b,aq as P}from"./chunks/framework.jAttmLhR.js";const v={__name:"demoDefineProperty",setup(x){const l={text:1},e=_();Object.defineProperty(l,"text",{set(a){e.value.value=a,this.value=a},get(){return this.value}}),y(()=>{e.value.addEventListener("change",function(a){l.text=a.target.value})});function r(){l.text=""}return(a,t)=>{const n=c("x-button");return p(),f(b,null,[o("input",{ref_key:"input",ref:e},null,512),s(n,{onClick:r},{default:u(()=>t[0]||(t[0]=[d("清空")])),_:1})],64)}}},h=m(v,[["__scopeId","data-v-cfb8c72b"]]),g={__name:"demoProxy",setup(x){const l={text:1},e=_(),r=new Proxy(l,{get:function(t,n){return console.log("get"),t[n]},set:(t,n,i)=>(t[n]!==i&&(console.log(`监听到${n}变化啦,值变为:${i}`),t[n]=i,e.value.value=i),!0)});y(()=>{e.value.addEventListener("change",function(t){r.text=t.target.value})});function a(){r.text=""}return(t,n)=>{const i=c("x-button");return p(),f(b,null,[o("input",{ref_key:"input",ref:e},null,512),s(i,{onClick:a},{default:u(()=>n[0]||(n[0]=[d("清空")])),_:1})],64)}}},j=m(g,[["__scopeId","data-v-f758ebe5"]]),O=JSON.parse('{"title":"请简单实现双向数据绑定mvvm","description":"","frontmatter":{},"headers":[],"relativePath":"knowledge-lib/js/算法/经典手写/双向数据绑定/index.md","filePath":"knowledge-lib/js/算法/经典手写/双向数据绑定/index.md"}'),k={name:"knowledge-lib/js/算法/经典手写/双向数据绑定/index.md"},N=Object.assign(k,{setup(x){return(l,e)=>{const r=c("preview");return p(),f("div",null,[e[0]||(e[0]=o("h1",{id:"请简单实现双向数据绑定mvvm",tabindex:"-1"},[d("请简单实现双向数据绑定"),o("code",null,"mvvm"),d(),o("a",{class:"header-anchor",href:"#请简单实现双向数据绑定mvvm","aria-label":'Permalink to "请简单实现双向数据绑定`mvvm`"'},"​")],-1)),e[1]||(e[1]=o("h2",{id:"object-defineproperty",tabindex:"-1"},[d("Object.defineProperty "),o("a",{class:"header-anchor",href:"#object-defineproperty","aria-label":'Permalink to "Object.defineProperty"'},"​")],-1)),s(r,{codePath:"knowledge-lib/js/算法/经典手写/双向数据绑定/demoDefineProperty.vue"},{default:u(()=>[s(h)]),_:1}),e[2]||(e[2]=o("h2",{id:"proxy实现",tabindex:"-1"},[d("proxy实现 "),o("a",{class:"header-anchor",href:"#proxy实现","aria-label":'Permalink to "proxy实现"'},"​")],-1)),s(r,{codePath:"knowledge-lib/js/算法/经典手写/双向数据绑定/demoProxy.vue"},{default:u(()=>[s(j)]),_:1}),e[3]||(e[3]=P('<h2 id="优劣对比" tabindex="-1">优劣对比 <a class="header-anchor" href="#优劣对比" aria-label="Permalink to &quot;优劣对比&quot;">​</a></h2><p>Proxy 的优势如下:</p><ul><li>Proxy 可以直接监听对象而非属性；</li><li>Proxy 可以直接监听数组的变化；</li><li>Proxy 有多达 13 种拦截方法,不限于 apply、ownKeys、deleteProperty、has 等等是 Object.defineProperty 不具备的；</li><li>Proxy 返回的是一个新对象,我们可以只操作新的对象达到目的,而 Object.defineProperty 只能遍历对象属性直接修改；</li><li>Proxy 作为新标准将受到浏览器厂商重点持续的性能优化，也就是传说中的新标准的性能红利；</li></ul><p>Object.defineProperty 的优势如下:</p><ul><li>兼容性好，支持 IE9，而 Proxy 的存在浏览器兼容性问题,而且无法用 polyfill 磨平，因此 Vue 的作者才声明需要等到下个大版本( 3.0 )才能用 Proxy 重写。</li></ul>',5))])}}});export{O as __pageData,N as default};
